(function(t){function e(e){for(var a,i,c=e[0],s=e[1],l=e[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);f&&f(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=s;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},"1ae5":function(t,e,r){"use strict";var a=r("f30b"),o=r.n(a);o.a},"3ff4":function(t,e,r){t.exports=r.p+"img/vk-logo-png-white-4.b61c22a5.png"},"47b5":function(t,e,r){"use strict";var a=r("fb49"),o=r.n(a);o.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t.loader?t._e():r("div",[t._m(0)]),t.teachers?r("div",[r("StatusSchool",{attrs:{optionSet:t.areaSet,teachers:t.teachers,choice:"area"}}),r("hr"),r("StatusSchool",{attrs:{optionSet:t.schoolSet,teachers:t.teachers,choice:"school"}})],1):t._e(),r("Footer")],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lds-roller"},[r("div"),r("div"),r("div"),r("div"),r("div")])}],i=(r("d3b7"),r("6062"),r("3ca3"),r("498a"),r("ddb0"),r("b85c")),c=(r("96cf"),r("1da1")),s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"logo"},[a("div",{staticClass:"img_footer"},[a("a",{attrs:{href:"https://vk.com/necrobutcher87"}},[a("img",{attrs:{src:r("3ff4"),alt:"vk.com"}})]),a("a",{attrs:{href:"https://vk.com/away.php?to=https%3A%2F%2Finstagram.com%2Flugburz13%3Figshid%3D1u094tuieftne&cc_key="}},[a("img",{attrs:{src:r("8a8e"),alt:"instagram"}})])])]),a("div",{staticClass:"footer_text"},[t._v("ivanignatenko28@gmail.com")])])}],f={name:"Footer"},u=f,h=(r("47b5"),r("2877")),p=Object(h["a"])(u,s,l,!1,null,"069985a2",null),d=p.exports,v=r("bc3a"),m=r.n(v),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["school"===t.choice?r("h3",[t._v("Выберете школу")]):"area"===t.choice?r("h3",[t._v("Выберете Район")]):t._e(),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?r:r[0]}}},["area"===t.choice?r("option",{attrs:{value:"Все"}},[t._v("Всe")]):t._e(),t._l(t.optionSet,(function(e,a){return r("option",{key:a,attrs:{"value:item":""}},[t._v(t._s(e))])}))],2),t.datacollection?r("div",{staticClass:"small"},[r("line-chart",{attrs:{chartData:t.datacollection,options:t.options}})],1):t._e()])},g=[],_=(r("99af"),r("4de4"),r("4ec9"),r("a9e3"),r("b680"),r("1fca")),y=_["b"].reactiveProp,S={extends:_["a"],mixins:[y],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},w={props:["optionSet","teachers","choice"],name:"StatusSchool",data:function(){return{filter:"",size:Number,root:"",datacollection:null,color:["rgb(25, 152, 161)","rgb(190, 255, 115)","red","rgb(148, 42, 0)","rgb(0, 85, 196)","rgb(0, 190, 196)","rgb(255, 224, 139)","rgb(24, 67, 255)","rgb(21, 104, 0)","#fcac45","#f87979"],options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},updated:function(){"area"===this.choice?""===this.filter&&(this.filter="Все",this.fillData(this.filter)):"school"===this.choice&&""===this.filter&&(this.filter="Шербакульский Лицей",this.fillData(this.filter))},components:{LineChart:S},watch:{filter:function(t){t!==this.root&&(console.log(this.filter),this.root=t,this.fillData(this.filter))}},methods:{fillData:function(t){var e,r=new Map,a=Object(i["a"])(this.teachers);try{for(a.s();!(e=a.n()).done;){var o=e.value;if("Дневник.ру"!==o.platform.trim()&&"дневник.ру"!==o.platform.trim())if("school"===this.choice){if(o.school===t)if(r.has(o.platform.trim())){var n=r.get(o.platform.trim());n++,r.set(o.platform.trim(),n)}else r.set(o.platform.trim(),1)}else if("area"===this.choice){if("Все"===t)if(r.has(o.platform.trim())){var c=r.get(o.platform.trim());c++,r.set(o.platform.trim(),c)}else r.set(o.platform.trim(),1);if(o.Area.trim()===t)if(r.has(o.platform.trim())){var s=r.get(o.platform.trim());s++,r.set(o.platform.trim(),s)}else r.set(o.platform.trim(),1)}}}catch(S){a.e(S)}finally{a.f()}var l,f=[],u=[],h=0,p=0,d=Object(i["a"])(r.keys());try{for(d.s();!(l=d.n()).done;){var v=l.value;f[p]=v,p++}}catch(S){d.e(S)}finally{d.f()}p=0;var m,b=Object(i["a"])(r.values());try{for(b.s();!(m=b.n()).done;){var g=m.value;h+=g,u[p]=g,p++}}catch(S){b.e(S)}finally{b.f()}for(var _=[],y=0;y<u.length;y++)_[y]={label:"".concat(y+1,":").concat(f[y],"(").concat((u[y]/h*100).toFixed(2),"%)"),backgroundColor:this.color[y],data:[u[y]]};this.datacollection={labels:["".concat(t," (").concat(h," человек)")],datasets:_}}}},x=w,O=(r("1ae5"),Object(h["a"])(x,b,g,!1,null,"7b69b62f",null)),j=O.exports,k={name:"App",components:{StatusSchool:j,Footer:d},data:function(){return{teachers:[],schoolSet:{},areaSet:{},loader:!1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api").then((function(e){t.teachers=e.data,t.areaSet=new Set,t.schoolSet=new Set;var r,a=Object(i["a"])(t.teachers);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.schoolSet.add(o.school.trim()),t.areaSet.add(o.Area.trim())}}catch(n){a.e(n)}finally{a.f()}t.loader=!0})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()}},C=k,A=(r("034f"),Object(h["a"])(C,o,n,!1,null,null,null)),F=A.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(F)}}).$mount("#app")},"85ec":function(t,e,r){},"8a8e":function(t,e,r){t.exports=r.p+"img/inst.06427ddf.png"},f30b:function(t,e,r){},fb49:function(t,e,r){}});
//# sourceMappingURL=app.209fe421.js.map