(function(t){function e(e){for(var r,c,l=e[0],i=e[1],s=e[2],f=0,h=[];f<l.length;f++)c=l[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&h.push(o[c][0]),o[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,s||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,l=1;l<a.length;l++){var i=a[l];0!==o[i]&&(r=!1)}r&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},o={app:0},n=[];function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=i;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),o=a.n(r);o.a},"0526":function(t,e,a){},3112:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.teacherMap?a("div",[a("Status1",{attrs:{keys:t.teacherMap.keys(),values:t.teacherMap.values(),label:"Наиболее часто используемые платформы в Омской области и Самаре"}}),a("hr"),a("StatusSchool",{attrs:{optionSet:t.schoolSet,teachers:t.teachers,choice:"school"}}),a("StatusSchool",{attrs:{optionSet:t.areaSet,teachers:t.teachers,choice:"area"}})],1):t._e()])},n=[],c=(a("4ec9"),a("d3b7"),a("6062"),a("3ca3"),a("498a"),a("ddb0"),a("b85c")),l=(a("96cf"),a("1da1")),i=a("bc3a"),s=a.n(i),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.datacollection?a("div",{staticClass:"small"},[a("line-chart",{attrs:{chartData:t.datacollection,options:t.options}})],1):t._e()},f=[],h=(a("99af"),a("b680"),a("1fca")),p=h["b"].reactiveProp,d={extends:h["a"],mixins:[p],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},v={components:{LineChart:d},props:["keys","label","values"],data:function(){return{datacollection:null,color:["rgb(25, 152, 161)","rgb(190, 255, 115)","red","rgb(148, 42, 0)","rgb(0, 85, 196)","rgb(0, 190, 196)","rgb(255, 224, 139)","rgb(24, 67, 255)","rgb(21, 104, 0)","#fcac45","#f87979"],options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},mounted:function(){this.fillData()},methods:{fillData:function(){var t,e=[],a=[],r=0,o=0,n=Object(c["a"])(this.keys);try{for(n.s();!(t=n.n()).done;){var l=t.value;e[o]=l,o++}}catch(p){n.e(p)}finally{n.f()}o=0;var i,s=Object(c["a"])(this.values);try{for(s.s();!(i=s.n()).done;){var u=i.value;r+=u,a[o]=u,o++}}catch(p){s.e(p)}finally{s.f()}for(var f=[],h=0;h<a.length;h++)f[h]={label:"".concat(h+1,":").concat(e[h],"(").concat((a[h]/r*100).toFixed(2),"%)"),backgroundColor:this.color[h],data:[a[h]]};this.datacollection={labels:["".concat(this.label," (").concat(r," человек)")],datasets:f}}}},b=v,m=(a("93a5"),a("2877")),g=Object(m["a"])(b,u,f,!1,null,null,null),y=g.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["school"===t.choice?a("h3",[t._v("Выберете школу")]):"area"===t.choice?a("h3",[t._v("Выберете Район")]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?a:a[0]}}},t._l(t.optionSet,(function(e,r){return a("option",{key:r,attrs:{"value:item":""}},[t._v(t._s(e))])})),0),t.datacollection?a("div",{staticClass:"small"},[a("line-chart",{attrs:{chartData:t.datacollection,options:t.options}})],1):t._e()])},_=[],O=(a("4de4"),a("a9e3"),{props:["optionSet","teachers","choice"],name:"StatusSchool",data:function(){return{filter:String,size:Number,root:"",datacollection:null,color:["rgb(25, 152, 161)","rgb(190, 255, 115)","red","rgb(148, 42, 0)","rgb(0, 85, 196)","rgb(0, 190, 196)","rgb(255, 224, 139)","rgb(24, 67, 255)","rgb(21, 104, 0)","#fcac45","#f87979"],options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},components:{LineChart:d},watch:{filter:function(t){t!==this.root&&(console.log(this.filter),this.root=t,this.fillData(this.filter))}},methods:{fillData:function(t){var e,a=new Map,r=Object(c["a"])(this.teachers);try{for(r.s();!(e=r.n()).done;){var o=e.value;if("school"===this.choice){if(o.school===t)if(a.has(o.platform)){var n=a.get(o.platform);n++,a.set(o.platform,n)}else a.set(o.platform,1)}else if("area"===this.choice&&o.Area===t)if(a.has(o.platform)){var l=a.get(o.platform);l++,a.set(o.platform,l)}else a.set(o.platform,1)}}catch(S){r.e(S)}finally{r.f()}var i,s=[],u=[],f=0,h=0,p=Object(c["a"])(a.keys());try{for(p.s();!(i=p.n()).done;){var d=i.value;s[h]=d,h++}}catch(S){p.e(S)}finally{p.f()}h=0;var v,b=Object(c["a"])(a.values());try{for(b.s();!(v=b.n()).done;){var m=v.value;f+=m,u[h]=m,h++}}catch(S){b.e(S)}finally{b.f()}for(var g=[],y=0;y<u.length;y++)g[y]={label:"".concat(y+1,":").concat(s[y],"(").concat((u[y]/f*100).toFixed(2),"%)"),backgroundColor:this.color[y],data:[u[y]]};this.datacollection={labels:["".concat(t," (").concat(f," человек)")],datasets:g},console.log(this.datacollection)}}}),w=O,j=(a("c9dc"),Object(m["a"])(w,S,_,!1,null,"0125e126",null)),x=j.exports,M={name:"App",components:{Status1:y,StatusSchool:x},data:function(){return{teachers:[],teacherMap:{},schoolSet:{},areaSet:{}}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/api").then((function(e){console.log(e.data),t.teachers=e.data,t.teacherMap=new Map,t.areaSet=new Set,t.schoolSet=new Set;var a,r=Object(c["a"])(t.teachers);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(t.schoolSet.add(o.school.trim()),t.areaSet.add(o.Area.trim()),t.teacherMap.has(o.platform.trim())){var n=t.teacherMap.get(o.platform.trim());n++,t.teacherMap.set(o.platform.trim(),n)}else t.teacherMap.set(o.platform.trim(),1)}}catch(l){r.e(l)}finally{r.f()}})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()}},k=M,A=(a("034f"),Object(m["a"])(k,o,n,!1,null,null,null)),P=A.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(P)}}).$mount("#app")},"85ec":function(t,e,a){},"93a5":function(t,e,a){"use strict";var r=a("3112"),o=a.n(r);o.a},c9dc:function(t,e,a){"use strict";var r=a("0526"),o=a.n(r);o.a}});
//# sourceMappingURL=app.8d9a95ec.js.map