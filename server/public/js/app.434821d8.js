(function(t){function e(e){for(var a,i,c=e[0],s=e[1],l=e[2],f=0,h=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},"3ff4":function(t,e,r){t.exports=r.p+"img/vk-logo-png-white-4.b61c22a5.png"},"47b5":function(t,e,r){"use strict";var a=r("fb49"),o=r.n(a);o.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t.getLoader?t._e():r("div",[t._m(0)]),t.dumpTeachers?r("div",[r("StatusSchool",{attrs:{optionSet:t.getAreaSet,teachers:t.dumpTeachers,choice:"area"}}),r("hr"),r("StatusSchool",{attrs:{optionSet:t.getSchoolSet,teachers:t.dumpTeachers,choice:"school"}})],1):t._e(),r("Footer")],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lds-roller"},[r("div"),r("div"),r("div"),r("div"),r("div")])}],i=(r("96cf"),r("1da1")),c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"logo"},[a("div",{staticClass:"img_footer"},[a("a",{attrs:{href:"https://vk.com/necrobutcher87"}},[a("img",{attrs:{src:r("3ff4"),alt:"vk.com"}})]),a("a",{attrs:{href:"https://vk.com/away.php?to=https%3A%2F%2Finstagram.com%2Flugburz13%3Figshid%3D1u094tuieftne&cc_key="}},[a("img",{attrs:{src:r("8a8e"),alt:"instagram"}})])])]),a("div",{staticClass:"footer_text"},[t._v("ivanignatenko28@gmail.com")])])}],l={name:"Footer"},u=l,f=(r("47b5"),r("2877")),h=Object(f["a"])(u,c,s,!1,null,"069985a2",null),p=h.exports,d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["school"===t.choice?r("h3",[t._v("Выберете школу")]):"area"===t.choice?r("h3",[t._v("Выберете Район")]):t._e(),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?r:r[0]}}},["area"===t.choice?r("option",{attrs:{value:"Все"}},[t._v("Всe")]):t._e(),t._l(t.optionSet,(function(e,a){return r("option",{key:a,attrs:{"value:item":""}},[t._v(t._s(e))])}))],2),t.datacollection?r("div",{staticClass:"small"},[r("line-chart",{attrs:{chartData:t.datacollection,options:t.options}})],1):t._e()])},m=[],v=(r("99af"),r("4de4"),r("4ec9"),r("a9e3"),r("b680"),r("d3b7"),r("3ca3"),r("498a"),r("ddb0"),r("b85c")),g=r("1fca"),b=g["b"].reactiveProp,S={extends:g["a"],mixins:[b],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},_={props:["optionSet","teachers","choice"],name:"StatusSchool",data:function(){return{filter:"",size:Number,root:"",datacollection:null,color:["rgb(25, 152, 161)","rgb(190, 255, 115)","red","rgb(148, 42, 0)","rgb(0, 85, 196)","rgb(0, 190, 196)","rgb(255, 224, 139)","rgb(24, 67, 255)","rgb(21, 104, 0)","#fcac45","#f87979"],options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},updated:function(){"area"===this.choice?""===this.filter&&(this.filter="Все",this.fillData(this.filter)):"school"===this.choice&&""===this.filter&&(this.filter="Шербакульский Лицей",this.fillData(this.filter))},components:{LineChart:S},watch:{filter:function(t){t!==this.root&&(console.log(this.filter),this.root=t,this.fillData(this.filter))}},methods:{fillData:function(t){var e,r=new Map,a=Object(v["a"])(this.teachers);try{for(a.s();!(e=a.n()).done;){var o=e.value;if("Дневник.ру"!==o.platform.trim()&&"дневник.ру"!==o.platform.trim())if("school"===this.choice){if(o.school===t)if(r.has(o.platform.trim())){var n=r.get(o.platform.trim());n++,r.set(o.platform.trim(),n)}else r.set(o.platform.trim(),1)}else if("area"===this.choice){if("Все"===t)if(r.has(o.platform.trim())){var i=r.get(o.platform.trim());i++,r.set(o.platform.trim(),i)}else r.set(o.platform.trim(),1);if(o.Area.trim()===t)if(r.has(o.platform.trim())){var c=r.get(o.platform.trim());c++,r.set(o.platform.trim(),c)}else r.set(o.platform.trim(),1)}}}catch(y){a.e(y)}finally{a.f()}var s,l=[],u=[],f=0,h=0,p=Object(v["a"])(r.keys());try{for(p.s();!(s=p.n()).done;){var d=s.value;l[h]=d,h++}}catch(y){p.e(y)}finally{p.f()}h=0;var m,g=Object(v["a"])(r.values());try{for(g.s();!(m=g.n()).done;){var b=m.value;f+=b,u[h]=b,h++}}catch(y){g.e(y)}finally{g.f()}for(var S=[],_=0;_<u.length;_++)S[_]={label:"".concat(_+1,":").concat(l[_],"(").concat((u[_]/f*100).toFixed(2),"%)"),backgroundColor:this.color[_],data:[u[_]]};this.datacollection={labels:["".concat(t," (").concat(f," человек)")],datasets:S}}}},y=_,w=(r("8ee5"),Object(f["a"])(y,d,m,!1,null,"28daf05a",null)),O=w.exports,j=r("2f62"),x={name:"App",components:{StatusSchool:O,Footer:p},methods:Object(j["b"])(["fetchTeachers"]),computed:Object(j["c"])(["dumpTeachers","getAreaSet","getSchoolSet","getLoader"]),mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetchTeachers();case 1:case"end":return e.stop()}}),e)})))()}},k=x,A=(r("034f"),Object(f["a"])(k,o,n,!1,null,null,null)),T=A.exports,C=(r("6062"),r("bc3a")),F=r.n(C),P={actions:{fetchTeachers:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api").then((function(e){var r,a=e.data,o=new Set,n=new Set,i=Object(v["a"])(a);try{for(i.s();!(r=i.n()).done;){var c=r.value;n.add(c.school.trim()),o.add(c.Area.trim())}}catch(l){i.e(l)}finally{i.f()}t.commit("updateTeachers",a),t.commit("updateAreaSet",o),t.commit("updateSchoolSet",n);var s=!0;t.commit("load",s)})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()}},mutations:{updateTeachers:function(t,e){t.teachers=e},updateAreaSet:function(t,e){t.areaSet=e},updateSchoolSet:function(t,e){t.schoolSet=e},load:function(t,e){t.loader=e}},state:{teachers:[],areaSet:null,schoolSet:null,loader:{}},getters:{dumpTeachers:function(t){return t.teachers},getAreaSet:function(t){return t.areaSet},getSchoolSet:function(t){return t.schoolSet},getLoader:function(t){return t.loader}}};a["a"].use(j["a"]);var D=new j["a"].Store({modules:{teachers:P}});a["a"].config.productionTip=!1,new a["a"]({store:D,render:function(t){return t(T)}}).$mount("#app")},"85ec":function(t,e,r){},"8a8e":function(t,e,r){t.exports=r.p+"img/inst.06427ddf.png"},"8ee5":function(t,e,r){"use strict";var a=r("9d76"),o=r.n(a);o.a},"9d76":function(t,e,r){},fb49:function(t,e,r){}});
//# sourceMappingURL=app.434821d8.js.map